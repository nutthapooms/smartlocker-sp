{"ast":null,"code":"var _regeneratorRuntime = require(\"C:/Users/nsuwanw/Desktop/smartlocker-sp/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar msal = require('@azure/msal-node');\n/**\r\n * Configuration object to be passed to MSAL instance on creation.\r\n * For a full list of MSAL Node configuration parameters, visit:\r\n * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/configuration.md\r\n */\n\n\nvar msalConfig = {\n  auth: {\n    clientId: 'a61a1ea8-c8a9-47bf-a84f-caba25dd5879',\n    authority: 'https://login.microsoftonline.com/d1ee1acd-bc7a-4bc4-a787-938c49a83906',\n    // knownAuthorities: ['https://smartlocker20220922110147.azurewebsites.net/'],\n    clientSecret: 'cmC8Q~q1Xy~dDPJsRMrlB04f0lnJVfCL~'\n  }\n};\n/**\r\n * With client credentials flows permissions need to be granted in the portal by a tenant administrator.\r\n * The scope is always in the format '<resource>/.default'. For more, visit:\r\n * https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow\r\n */\n\nvar tokenRequest = {\n  scopes: ['api://3a4bd202-bede-4dd7-8321-cda964ab6fee/.default']\n};\nvar apiConfig = {\n  uri: 'https://login.microsoftonline.com/organizations/oauth2/v2.0/token'\n};\n/**\r\n * Initialize a confidential client application. For more info, visit:\r\n * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-confidential-client-application.md\r\n */\n\nvar cca = new msal.ConfidentialClientApplication(msalConfig);\n/**\r\n * Acquires token with client credentials.\r\n * @param {object} tokenRequest\r\n */\n\nfunction getToken(tokenRequest) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return cca.acquireTokenByClientCredential(tokenRequest);\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\n\nmodule.exports = {\n  apiConfig: apiConfig,\n  tokenRequest: tokenRequest,\n  getToken: getToken\n};","map":null,"metadata":{},"sourceType":"script"}