{"ast":null,"code":"import _classCallCheck from \"C:/Users/nsuwanw/Desktop/smartlocker-sp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/nsuwanw/Desktop/smartlocker-sp/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { DataService } from '../data.service';\nimport { HttpClient } from '@angular/common/http';\nimport badgeInfo from '../badgeInfo.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../data.service\";\nexport var AddUserComponent = /*#__PURE__*/(function () {\n  var AddUserComponent = /*#__PURE__*/function () {\n    function AddUserComponent(http, language) {\n      _classCallCheck(this, AddUserComponent);\n\n      this.http = http;\n      this.language = language;\n      this.locker_num = \"\";\n      this.locker_num_temp = \"\";\n      this.door_close = 1;\n      this.userr = [];\n      this.card_number = \"\";\n    }\n\n    _createClass(AddUserComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        this.language.currentLanguage.subscribe(function (message) {\n          _this.lang = message;\n\n          if (_this.lang == \"thai\") {\n            _this.tothai();\n          } else {\n            _this.toeng();\n          }\n        }); // this.data.currentMessage.subscribe(message=> this.message = message);\n      }\n    }, {\n      key: \"addUser\",\n      value: function addUser(input) {\n        var inputt = input.toString().split(\"_\"); // console.log(inputt[1]);\n\n        badgeInfo.push([inputt[1], \"not set\", \"not set\", \"no\", \"no\", \"KioskaddedUser\"]); // console.log(this.userr[0][1]);\n\n        this.userr = badgeInfo.filter(function (badge) {\n          return badge[0] == inputt[1];\n        });\n\n        if (this.findUser(this.card_number)) {\n          document;\n        } else {\n          return false;\n        }\n      }\n    }, {\n      key: \"findUser\",\n      value: function findUser(input) {\n        var inputt = input.toString().split(\"_\"); // console.log(inputt[1]);\n\n        this.userr = badgeInfo.filter(function (badge) {\n          return badge[0] == inputt[1];\n        }); // console.log(this.userr[0][1]);\n\n        if (this.userr[0] != null) {\n          document.getElementById(\"ScanCard\").innerHTML = \"เพิ่มผู้ใช้สำเร็จ\";\n          return true;\n        } else {\n          document.getElementById(\"ScanCard\").innerHTML = \"เพิ่มผู้ใช้ไม้สำเร็จ\";\n          return false;\n        }\n      }\n    }, {\n      key: \"onkeydownHandler\",\n      value: function onkeydownHandler(event) {\n        if (event.key === \"Enter\") {\n          alert(this.card_number); // this.data.changeMessage(this.card_number);\n\n          if (this.card_number.includes(\"_\")) {\n            if (this.card_number.includes(\"_\") || this.card_number == \"_\") {\n              if (this.lang == \"thai\") {\n                document.getElementById(\"ScanCard\").innerHTML = \"ประมวลผล, รอซักครุ่\";\n              } else {\n                document.getElementById(\"ScanCard\").innerHTML = \"Processing, please wait\";\n              }\n\n              this.addUser(this.card_number);\n              this.card_number = \"\";\n            } else {\n              if (this.lang == \"thai\") {\n                document.getElementById(\"ScanCard\").innerHTML = \"กรุณาใช้บัตรพนักงาน Esso\";\n              } else {\n                document.getElementById(\"ScanCard\").innerHTML = \"Please use ESSO ID card\";\n              }\n\n              this.card_number = \"\";\n            }\n          }\n        } else {\n          if (\"1234567890_\".includes(event.key)) {\n            this.card_number = this.card_number + event.key;\n          }\n\n          if (\"Shift\".includes(event.key)) {}\n        }\n      }\n    }, {\n      key: \"tothai\",\n      value: function tothai() {\n        document.getElementById(\"ScanCard\").innerHTML = \"ส่องบัตรพนักงาน\";\n      }\n    }, {\n      key: \"toeng\",\n      value: function toeng() {\n        document.getElementById(\"ScanCard\").innerHTML = \"Scan new user ID card\";\n      }\n    }]);\n\n    return AddUserComponent;\n  }();\n\n  AddUserComponent.ɵfac = function AddUserComponent_Factory(t) {\n    return new (t || AddUserComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.DataService));\n  };\n\n  AddUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddUserComponent,\n    selectors: [[\"app-add-User\"]],\n    hostBindings: function AddUserComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown\", function AddUserComponent_keydown_HostBindingHandler($event) {\n          return ctx.onkeydownHandler($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 5,\n    vars: 0,\n    consts: [[1, \"container\"], [1, \"main\"], [\"src\", \"assets/door-key.png\", \"alt\", \"\", 1, \"image\"], [\"id\", \"ScanCard\", 1, \"main-text\"]],\n    template: function AddUserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtext(4, \"Scan new user ID card \");\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    styles: [\".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;color:#fff}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;box-sizing:border-box;padding:1.5rem;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;letter-spacing:2px}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{float:right;display:flex;flex-direction:column;align-items:flex-end}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%]{font-size:calc(.8em + 2vmin + 2vmax);font-weight:700}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{padding-top:1rem;font-size:calc(.4em + 1vmin + 1vmax);font-weight:400}.image[_ngcontent-%COMP%]{height:110px;margin:0 20px 20px 0}\"]\n  });\n  return AddUserComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}